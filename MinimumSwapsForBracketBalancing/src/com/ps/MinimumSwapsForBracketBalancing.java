package com.ps;

import java.util.Stack;

public class MinimumSwapsForBracketBalancing {
	public static void main(String args[]) {
		String input = "[]]]][[]][][]][[[[[][]][[[]]]][[[]]][][]]]][][[][][][[][[[]]][][][]]][][][][[][][[[[[]][][[[[][[[[]][[[]]][][[[][[]]][][]]]]]]]]]][]][][]][[][]]][[[][][][][]]]][[[][][[[[[][]]]]][[]][]][][]]]]][[]][][[]]][[[[[[[]]][[][][][][[]][[][[[]]][[][[]][[[[][]]][[][[[[[][[[[[][[[[[]][[]]]][][[]]]][]]][[][[[[[[[[[]][][][[[]][[[][]][]]]]][]][]][][[[[[[][][[[[[[]][][[[][[[[]]][[][[]]][[][[][]]]][]][[][[[[[][[[][[[[[[][]]][[[][[][[[]][]]]]][[][[][]][[[][[[][[[[[]]]][[][]][]]][][]][]][]]]]][[]]]][[]][][[[]][[][[]]]]][][]][[[[][[][[[[[[[[[[][[][][]]]][[[][[[][]][]][]][[[[[[][[]]]]][]]][]]]]][][]][][[][[]]]][[]]]]][[]]][[[[]]]]][]]]]]][[[[]][[[]][[[[[][[[]]][[[]]]][]]][[[[]]][]][]]][][][][[[][][[][]][[]]][][][[[][]]]]]][]][[][]][[[[]]]]]][]][[]][]]][][]][]][[][[][[[]][[[][[][[[]][[][][][[][[[][[[[][[]][][[[[]]]]]][][]]]]]][[][[[[[][[][]]][[[[]][[]]][[][]]]]][[]][][[[]]][]]][][]]][][[[]][[][]][]][]][[]]][[][][[]][][[][[[[[][]][[[[]][[][][]][]][[][]]][]]]][[][[[]][[][]]]]][[]]][[[][][[[[[][]][[][]]][][]][][]]]][][[][[[[[]][]][][[]][]]][][][[][[]]]]]]][[[[][][[[]]][[][[[[[][][[[]]]][]][]]]][][]]]][]]]][[[]][][][]]][][[[][[[]]][][][]]]][[]][]][[][[][[][[]]][]][]]][[]][[[]][][]][[[[][][[[[]][[][]]][[][]][[]]]][]]][[[[][][][]]]][]]]][[[[]]][]][]][]]]][[[[]]][][]][]][]]]]]][][][][][[]]]][[][]]]][[][][]]]][][[[[[][][][[[[[]]][][]]]][[]]][]]]]][[][]][]]][[[[[[]][][[[]][]]][[][]][][][][]][][[[[][[][[]]]]]][[][[[[][]]][[[[[][]]][]]][[[[]][[][[]]][][[]]]][][][[]]]]][]]]]][][]]]][]]][[[[[[[[[][][]][[[][[][][][[[[]][]][]]]][][][[]][[]]]][][]][][]]]][[[]]][[[[[]][][]]][[]][[[[]][[][][[[[[[][][[[][][[[[][[][][[[[]][]]]]][][[][]][[][[[[[][][]][[[[]]][[]][[[]][]]]]][]]]]]][[][][][]]]][]]][[]][[[][]][][]][][]]][[]]]][[[]]][][][[[][]][][]]][[][][[]][][]][[]]]][[[][[[[]]]][]]]]][[[[[]]][[[]][]][]][][[]][[]]][[[[[[[]][][][[[[[[]]][][]][[[[][[][[]][][[[][]]]][[[[]][[][[]]]]]][[][[][[[[]]][[]][[[[[]]]][[[]][[[[[[[[[][[[[[[][[]]]][[[[[[[]][[][[[[[][[]][][][[[]][]][]][[[[[[[[[]]]]][[[[]][]]][][]]][[]][[]][][][]][[][][[[]][[]]][]][[[[]][[][[[]][[]][[]]]]]][[][[][[][][[[[][][]]][]][[]]][[]][]][][[[[][[[]][[[][]][][[[[[[][][[]]]]][[[[]][][]]][[][[][[][[][[[]]]]]]]][[]][]][]]][][[][[]]]]][][][[[[[]][][]][[[[]][[]]][[[][]][[][[[]][][][[]][[[[[]]]]]][[]][]][]][[]][[][][[][]]][[[[][[[[[]][[[[]]]]]][[][][][][[[[][[[[[]][[]]][[[]][]]][][[[[[[[[][[][]]]][[[][][[][][[[]][]]][][[]]]][[[][][[[[[][][]]][[[]][]]][[[]][[[[][[][][][[[[][[[]][[[]][][]][]]]][[[]]]]]]]]]]][[]][][][[[[][][]]]][[[[]]][[]]]]][[[[][[][]][[]]][[]][[[]]][[[[][[][][[[[[[[[][]][[[[[]]][[[[[][[][]][]][][[[[][[][[[]]]]]]]]]]][][][[[[][][[[[[[[[[[[]]]]]][[[[[]][]][[[][[[[][]][]]][][][[[[[[]][[][]][]][[[[][[[]][[[[[[[]][[[[]][[[[][[][[[[[[[[][[]][][]][[]]]]][[][[[[]]]]]]][]]][[[[]]]][[][[][]][]]][[][][[][[][[[][]][][[]][[[][][[[][][][[][[][]]][[[[[[]][][[][]][][[[][]][]]][[[[[[][[[]][][[[][[[[[][[[[]][]][[][][[]][][[]][[][[]]]]]][[][]][[[][[[][][][]][[]]][[]]]]]]][[][[[]][[]][[[]][][]][][]]][[][[[]]][[][]]][][]][[]][[][][[]]][[[]][][[[]][[[[[[[]][][[][][[[[[[]][[][]][]][]][][][[][]]]]]][]]][][[[]][[[[[[[][]][[[]]]]]]][[[][[][][[[[[[[[]]]]]]]][[[]]][[]][[[[][[][[]][][][][][[][[]][]]]]]]][]][]]][][[[[[[][[]][[[[]]][[[]]][]]][][][[][[][[[]][[]]]]][][]][[[][]]]]]]]][[][][[][]]][][[[][[]][][[[]][[][]]][]][[[][]][]][][]]]]][[[[[][][]]][]][[]][][]]]][]]][]]]]][]]][[[][[][]][]]][]]][[[[][][][][]]]][]][]]][[[][][]][[[][]]]][[[[][[[][][]][[]]]][][[]][[][[][[]][[][[[[[[][][][[[[]][][]][[][[[][]][[][[[[][[]][[[[[][]][][[]]]][[[[[[[[]]]]][]][]]]][[]]][][][[[[][]][[]]][][]][[]][]]][][[[]][][[[]][[[][[[]][][]][[][]]][[[[[[][][][[[[[[[[[][[][[[][][[[[[[[][]]]][[[[[[[]]]][]][[][[][[[[[][[][]][]][][]]][][[[]][]][[][[[[[][[[[][]][[[]]]]]][[][]][[][][][[]]][][]][][]]][[[][[[][]][[]][][][][[[]][][]]]]][]][]]][]]]][[]]][[]]][]]][[[]][][[[][[[]]]]]]][]][[[[]]]]]]][][[[[][[[]]]][[[][]][]][]]][[[][[][[][[]]][[[][]]][]]]][[][]]]][]][[]]][[]][[]]]]]][][[]][[][]]][]]][[[]]]][[]]][[]]]]][[]][][]][[][[]]][]][[][[]][[]]]][[]]][]][[][]]]][]][[][]][[[]]][][][[[][[][][][[[[[[][[[][[[]][[][]][[]]]][]]]]]]][[[[]][]]]][][[[[[]]][][[[]]][]][]]][]]][[][[][[[][][]][][][[[[]]][]]]]]][][[[[[][]]]]][]]][]]]][][]]]][[[[[[][[]]]][]][[[[]]][[[]]][[[[][[]][]][][[[][[[[]]][][]]]]]][[[[[]]][][[][[[[[[[][[][][][]][[]][[[]]][][[][]]]]]]][][[[[]]]][[]][][]]]]]][[[]]][[]][]]]]][[][[[[][][[[]][[]]]]][[[[[[]]]]][]]]][][[]][[][[]]][]]][]]][[][[[]][[][[[][]][][[[[]]]]][]][[]][][[]]]][[[]][[][[[[]]][[[[[[]]][[]]][]]]][[][[[[[[[]][][[[[[]][]][]]][[[]]]]]][]][[][[]][]]]]]][][][[[[]][][]]]]]][]]][][]]]][][[]][]][[]][][][][[[[]]]][[]][[[[]]][[][[[[][]]][]][[[]]][[[[][][][][]][][]]][[]]]]][][]]]]][[[[][]]]]][][][[][]]][][][][]][]][][[[]][[[[][]][[[[]][[][[[]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]][[][][][]][[][]][[]][][[]][[]][[]][[][]][[][][]][][[][]][[]][[][]][[]][[]][][][][][][][[]][[][][]][][][][][[]][[][]][][][[]][][][[][]][][[]][[]][[]][][][][[]][[]][[][][][]][][][[][][]][[]][[][][][]][[]][][][][[][][]][[]][[]][][[][][]][][][][][][[]][[]][][[]][[][][]][][][][[]][][[][]][[]][][[]][[]][[]][[]][[][][]][][[][][]][[]][[]][][[][][]][[]][][][[]][][[][]][][[]][][[]][[][]][[][][][]][][][[]][][[][]][][][][][[][]][[]][][][[][]][][][][][][][][[]][[]][][[]][[][][]][[]][][[]][[]][][][[]][[]][][][][[][][]][[]][[][]][[]][][[]][[][]][][][[][][]][][[]][][][[][][][]][][][][[]][][][][[][][][]][[]][[]][][[]][][[]][[]][][[][]][[]][[]][[]][][[][][][]][[][][]][][[][]][][[][]][][[][][][][][][]][[]][[]][[][][]][[]][][][][[][]][][][[]][][][[]][[]][][[]][][[]][][[]][][[]][[][][][]][][[][][]][][][[]][[]][[][][][]][][][][[][]][][[]][[][]][[][]][][][][[][][]][][][][[][][][][]][][][[]][[]][][[][]][[]][[]][[]][[]][][[][][]][][[]][][[]][][][[]][][[]][[]][][[][]][][[][][][][]][][][][[][]][[][][][]][[]][[]][[][][][]][][[]][[]][[]][][[]][][][[][]][][][][][[]][[][][][]][[][]][[]][[][]][[][]][][][][][[][]][][[][][]][][[]][[][]][[]][[]][[][][][]][][][][[][][]][][][[]][[][]][[]][][][[]][][[]][][[][]][[]][[]][[]][[]][][][[]][[][][][][]][[][][]][[]][][[]][[][]][][][[]][[]][[]][[][][][]][[]][][[]][[][]][][[][][]][[]][][][][[][]][[][][][]][[][]][][][][[][]][][][[]][[][]][[]][][[][][]][[][][][]][][][[]][][[][]][][[]][][[][]][][[]][[]][[]][][[][][][][][]][][][[][]][][[]][[]][[][][][][]][][][[]][[][][]][[][]][][][][[][]][[][][]][[]][[][]][[][]][[][][]][[]][][][[][]][[]][[]][][[][][][][][][]][][[]][][[]][[][]][][[][][]][][[][][]][][][[][]][[][][]][[][][][][]][][[][]][[][][][][]][[]][][[]][[]][[]][[][]][[][][]][[][]][[]][[][][]][[][][]][[]][][][[]][[]][[]][[][]][][][][[][]][[]][][[]][][[][]][[][][][]][][][[][]][][][[]][][][[][][][][]][][][[]][[]][][][][][][][][][][[]][][][[][][]][[]][][[][][]][][][[][][]][][][[][][]][[]][[]][][][[][]][][[][]][[][]][[][][]][][][][][[]][[][]][[]][][][[][][]][][[]][[]][][][][][[]][][][[][][][]][[]][][[][]][][[][]][[][]][][][[]][[]][[]][][][[][][][]][[][][][]][[][][]][][[][]][[][][][]][[]][][][[][][]][[]][][][[]][][[]][][[]][][[][]][[]][][[]][][[]][][][][][[]][[][][]][][[][]][][][[]][[]][][[][]][[]][[]][][[]][[]][[]][][][][[][][]][[][][]][][[]][][][[]][][[]][][[]][[][][][]][[]][][][[]][][[][][][]][][][][[][]][][][[]][][][][[]][][[]][[][][]][][[][]][[]][][[][][]][][][][[][]][][][[][][][][]][[]][][[][]][][[]][[]][[]][][[][]][[]][[][]][][][[]][[][]][[]][][][[]][][][][[]][][][][][[][]][][[][][][]][][[]][][[]][[][][][]][[]][][[][]][][[][][]][[][][][][][][]][][][][[][]][][][][][][[]][[]][][][[][]][[]][[]][][[]][[][]][][][[][]][][][[][][]][][[][]][[][][][][]][][][][[]][][][][][[][][][][]][][][][][][[][]][][[]][][[][]][[]][][][][[]][[]][[][]][][[]][[][][][]][][[][][]][[][][][][][][]][][[][]][][[][]][[]][[][][]][[][]][[]][][[]][][[]][][[]][][][[][]][[]][[][]][][[][][]][[]][][[][]][][][][][[]][[][][][]][][[][][]][][[]][][][[]][][][[][][][][][][][]][][[]][][[]][][[][][][][]][][[][][]][[][]][][[]][[][][][][][]][][[][]][][][[]][][[]][][][[]][[]][][[]][[][]][][[]][][[][]][][][[][][]][][][[]][][][[]][][[]][[]][][][][][[][]][[][]][[]][][][][][[][][]][[]][[]][[]][][[][]][][[]][[]][][[]][][[][]][[]][][][[]][[]][[][][][][][][]][[][][]][[]][][[]][[]][[][]][[][]][][[]][[][][][][]][[][]][[]][[]][[]][][][][][[]][[]][][[]][[]][[][][][][]][[][][][]][][][[]][[][]][][[][]][[]][][][[]][[][][][][]][[][][][]][[]][[]][[][]][[]][[]][][[][]][][[]][][][][[][][][]][[]][][][[]][[][][][][]][[]][][][[]][[][][][]][[]][[][]][[][][]][][][[]][[][]][][[][][][]][[]][[]][][[][]][][[]][][[][][][]][][[][]][][][][][[]][][[]][[][][][][][][][]][][[][]][[]][][[][][][][]][[]][[]][][][[][][][][][]][[][]][[][]][[][][][]][][][][][][[][]][][[][]][][[]][][][][][[][][]][[][][]][[][]][[]][[]][[][]][[]][][[][][]][[]][[]][[][]][[][]][][[]][[][][]][[]][[][][][]][[]][[]][][[][][]][][][[]][][[]][[]][][][][][][][[]][][[]][][][][[][][][][]][[][][]][[]][[][][][][]][[]][[]][[][][]][[]][[][]][][[]][][[][]][[][][][]][][][][][][[]][[]][][][][][[][]][][[][][][]][][[][][]][[][]][[]][[]][][][[][][]][][][[]][][[][][][][][][]][][][][][[][][]][[]][[]][[]][][][][[][][]][][[]][][[][]][][[]][[]][[][]][[][]][[]][][[][][]][][[][]][[]][][[][][]][[][][]][][[][]][[][][][]][[][][][][][][]][[][][]][][][][][[][][][][]][][][][[]][][[][][]][[][]][[]][][][][][][[][]][[][]][[][]][][][[][][][]][[]][][[][]][][][][[]][[]][[][][]][][[]][[][]][][][[]][][[]][][[][][]][[][][][]][[]][[]][][[]][[]][][][][[][][]][[]][][][[][]][][[][]][[][]][[][][][][][][]][[]][][[][]][[][][]][][][[]][][][[][][][][][]][[]][[][]][[][][][]][][[]][[]][][][[][][][][][]][[][]][[][][][]][][";
		int minimumSwapsForBalancing = getMinimumSwapsForBracketBalancing(input);
		System.out.println("minimumSwapsForBalancing : " + minimumSwapsForBalancing);
	}

	private static int getMinimumSwapsForBracketBalancing(String input) {
		Stack<Character> bracketStack = new Stack<>();
		for (int i = 0; i < input.length(); i++) {
			if (input.charAt(i) != ']') {
				bracketStack.push(input.charAt(i));
			} else {
				if (!bracketStack.isEmpty()) {
					char topChar = bracketStack.peek();
					if (topChar == '[') {
						bracketStack.pop();
					} else {
						bracketStack.push(input.charAt(i));
					}
				} else {
					bracketStack.push(input.charAt(i));
				}
			}
		}

		return bracketStack.size();
	}
}
